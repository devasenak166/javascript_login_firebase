<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <div>Welcome, <span id="user-email"></span>!</div>
    
    <script type="module">
      import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js'
      import { getAuth , signInWithEmailAndPassword} from 'https://www.gstatic.com/firebasejs/9.21.0/firebase-auth.js'
      import { getFirestore} from 'https://www.gstatic.com/firebasejs/9.21.0/firebase-firestore.js'
      import{ getDatabase,ref, onValue} from 'https://www.gstatic.com/firebasejs/9.21.0/firebase-database.js';
      const firebaseConfig = {
          apiKey: "AIzaSyCYDEAtkX79T3_AnLzRz4RyYMrNsP-W6kc",
          authDomain: "login-signin-1c262.firebaseapp.com",
          projectId: "login-signin-1c262",
          storageBucket: "login-signin-1c262.appspot.com",
          messagingSenderId: "1068048663150",
          appId: "1:1068048663150:web:e05823bbf8dec2c7db1c7f",
 }
      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const db = getDatabase();
      // const userEmail = localStorage.getItem("email"); 
      let username=document.getElementById("user-email")
      let urlParams = new URLSearchParams(location.search);
      const [id] = urlParams.values();
      console.log(id);
      const userRef = ref(db, "users/" + id);
      onValue(userRef, (snapshot) => {
        const data = snapshot.val();
        console.log(data);
        username.textContent = data?.username;
        // displayName.value = data?.username;
      });

    </script>
</body>
</html>